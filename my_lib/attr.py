#!/dev/null
from functools import lru_cache


_ATTR_MAP = {
    2**0: "[保护]",
    2**1: "[直播]",
    2**2: "[高赞]",
    2**3: "[03]",
    2**4: "[TODO_04]",
    2**5: "[05]",
    2**6: "[06]",
    2**7: "[07]",
    2**8: "[图片]",
    2**9: "[09]",
    2**10: "[10]",
    2**11: "[NFT]",
    2**12: "[12]",
    2**13: "[13]",
    2**14: "[14]",
    2**15: "[TODO_15]",
    2**16: "[16]",
    2**17: "[17]",
    2**18: "[18]",
    2**19: "[19]",
    2**20: "[20]",
    2**21: "[21]",
    2**22: "[22]",
    2**23: "[23]",
    2**24: "[24]",
    2**25: "[25]",
    2**26: "[26]",
    2**27: "[27]",
    2**28: "[28]",
    2**29: "[29]",
    2**30: "[30]",
    2**31: "[31]",
    2**32: "[32]",
    2**33: "[33]",
}


@lru_cache()
def danmaku_attr_type(attr: int):
    if attr == 0:
        return "DM "
    o = ""

    # 使用位运算和循环来检查每个属性
    for bit, label in _ATTR_MAP.items():
        if attr & bit:  # 如果该位为1
            o += label

    return o
