_ATTR_MAP = {
    2**0: "[保护🔒]",  # 1
    2**1: "[直播📽]",  # 2
    2**2: "[高赞👍]",  # 4
    2**3: "[TODO_03]",  # 8
    2**4: "[TODO_04]",  # 16
    2**5: "[05]",  # 32
    2**6: "[06]",  # 64
    2**7: "[07]",  # 128
    2**8: "[图片🖼]",  # 256
    2**9: "[09]",  # 512
    2**10: "[TODO_10]",  # 1024
    2**11: "[NFT💸]",  # 2048
    2**12: "[TODO_12]",  # 4096
    2**13: "[13]",  # 8192
    2**14: "[TODO_14]",  # 16384
    2**15: "[TODO_15]",  # 32768
    2**16: "[16]",  # 65536
    2**17: "[17]",  # 131072
    2**18: "[18]",  # 262144
    2**19: "[TODO_19]",  # 524288
    2**20: "⏰",  # 1048576
    2**21: "[21]",  # 2097152
    2**22: "[22]",  # 4194304
    2**23: "[23]",  # 8388608
    2**24: "[24]",  # 16777216
    2**25: "[25]",  # 33554432
    2**26: "[26]",  # 67108864
    2**27: "[27]",  # 134217728
    2**28: "[28]",  # 268435456
    2**29: "[29]",  # 536870912
    2**30: "[30]",  # 1073741824
    2**31: "[31]",  # 2147483648
    2**32: "[32]",  # 4294967296
    2**33: "[33]",  # 8589934592
}


def danmaku_attr_type(attr: int) -> str:
    if attr == 0:
        return "DM "
    o = ""
    # 使用位运算和循环来检查每个属性
    for bit, label in _ATTR_MAP.items():
        if attr & bit:  # 如果该位为1
            o += label
    return o
